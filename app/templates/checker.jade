extends ./layouts/base

block scripts
    script(src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js")
    script(src="http://code.highcharts.com/highcharts.js")
    script(src="http://code.highcharts.com/highcharts-more.js")

    !=js('/scripts/vendor/angular.min.js')
    !=js('/scripts/vendor/angular-animate.min.js')
    !=js('/scripts/base')
    !=js('/scripts/checker.js')

    :coffeescript
        $ () =>
            locals = JSON.parse('!{JSON.stringify(locals)}')
            ($ '#chart').highcharts Checker.getLawChartOptions locals.percents,
                                                               locals.law,
                                                               locals.range
            ($ '#magnitudes').highcharts Checker.getMagnitudeChartOptions locals.magnitudes

block content
    .row
        #chart.col-sm-8            
        .col-sm-4            
            .higher-z.bottom-20(class= z > 1.96 ? "failled" : "success")
                .value #{z}
                .name.right-20.pull-left Higher z-statistic
                a(href="https://github.com/jplusplus/benford-calculator/wiki/Frequently-Asked-Questions#whats-the-z-statistic")
                    | What's this?

            if z > 1.96
                p.alert.alert-danger.
                    | It seems that the data does not comply with Benford's law.
                    | Keep in mind that this is no proof.

            if shareUrl
                p.share
                    a(href='/').right-20
                        i.icon-angle-left.right-05
                        | New data set
                    a(href=shareUrl)
                        i.icon-link.right-05
                        | Share result
            else
                a(href='/').btn.btn-inverse.btn-large.btn-block
                    | New data set

    .row(ng-hide='magHidden')
        .col-sm-8.text-center
            #magnitudes
        .col-sm-4
            p
                br
                | Benford's law generally does not apply if you have less than
                |  2 orders of magnitude represented.
            br
            a.btn.btn-link.btn-small(ng-click='magHidden=!magHidden') [x] Close
    .row(ng-hide='!magHidden')
        .col-sm-12
            a.btn.btn-link.btn-small(ng-click='magHidden=!magHidden')
                | [+] Show orders of magnitudes